\sectionCenter{Tower defense}

\subsection*{Описание игры}
В данной игре два игрока сражаются друг с другом на квадратном поле. Первоначально игроки располагают одной стационарной башней с определенным количеством здоровья. Цель игрока --- разрушить башню соперника. Для уничтожения башни соперника необходимо строить пушки, которые обладают возможностью стрелять на определенное расстояние. Пушки бывают нескольких видов с различными характеристиками. Для строительства пушек необходим ресурс --- золотые монетки, которые добывается на поле боя. За различную деятельность на поле боя игроки награждаются призовыми очками. Если в течение некоторого времени не будут разрушены башни игроков, то игра прекращается и идет подсчет очков и в таком случае победа отдается тому игроку, у которого наибольшее количество очков. В случае, если количество очков равное, то объявляется ничья.

\subsection*{Механика игры}
Игровое поле представляет собой матрицу размером $20 \times 20$ клеток, левая верхняя клетка имеет координаты $(0, 0)$, нижняя правая --- $(19, 19)$. В позиции $(2, 2)$ находится башня первого игрока, в позиции $(17, 17)$ --- башня второго игрока. Каждая башня имеет 100 единиц здоровья.

В начале игры первый игрок находится в координате $(0, 0)$, второй игрок~---~в координате $(19, 19)$. Игрок бессмертный (у него нет единиц жизни, поэтому его невозможно убить). Игрок умеет перемещаться в любою соседнюю \emph{свободную} клетку.

С определенной частотой на игровом поле появляются золотые монетки номиналом 1 золотой. У них нет <<срока годности>> --- т.е. если монетка лежит на поле, то она не исчезнет с течением времени. У каждого игрока есть свой счет игровых монеток, который в начале игры равен 0. Игроки во время путешествий могут подбирать монетки, после чего они зачисляются на их счета, а монетка исчезает с поля боя. 

При помощи золотых монет игроки могут строить пушки. Всего в игре существуют три вида пушек с различными характеристиками. 

Характеристики пушек:
\begin{itemize}
    \item \texttt{Стоимость}~---~Каждая пушка при строительстве тратит со счета игрока \emph{C} золотых монет. Если у игрока меньше золотых монет, чем необходимо, то пушку построить нельзя;
    \item \texttt{Жизни}~---~Каждая пушка имеет \emph{H} единиц здоровья. Когда у пушки не остается здоровья (данное значение становится $< 1$), то она уничтожается, а клетка, которую она занимала, становится пустой;
    \item \texttt{Радиус поражения}~---~Каждая пушка может стрелять на радиус \emph{R} клеток. Пусть пушка находится в координате $(x_1, y_1)$. Она может выстрелить в клетку с координатой $(x_2, y_2)$, если выполняется условие $|x_1 - x_2| + |y_1 - y_2| \leq R$;
    \item \texttt{Мощность выстрела}~---~Каждая пушка может выстрелить снарядом с мощностью \emph{P}. Пушка может стрелять в пушки и башню соперника и отнимает от цели \emph{P} единиц здоровья.
\end{itemize}

Таблица видов пушек:
\begin{table}[h]
    \centering
    \begin{tabular}{|>{\centering\arraybackslash}m{3cm}|>{\centering\arraybackslash}m{3cm}|>{\centering\arraybackslash}m{3cm}|>{\centering\arraybackslash}m{3cm}|>{\centering\arraybackslash}m{3cm}|}
        \hline
        Пушки & \multicolumn{4}{c|}{Характеристики пушек} \\
        \hline
        & \texttt{Стоимость} & \texttt{Жизни} & \texttt{Радиус} & \texttt{Мощность} \\
        \hline
        Первый тип & 3 & 9 & 1 & 2 \\
        \hline
        Второй тип & 7 & 12 & 2 & 3 \\
        \hline
        Третий тип & 12 & 5 & 3 & 4 \\
        \hline
    \end{tabular}
\end{table}

Каждый из игроков во время своего хода может сделать следующие действия:
\begin{itemize}
    \item Остаться на месте и ничего не делать;
    \item Переместиться в свободную смежную с игроком клетку;
    \item Построить пушку, указав координаты соседней свободной клетки для строительства.
\end{itemize}

После того, как сделают ходы первый и второй игроки, то начинается фаза \emph{стрельбы}. Все пушки стреляют \emph{одновременно} по следующему алгоритму:
\begin{itemize}
    \item Если в радиусе стрельбы пушки находится вражеская башня, то выстрел происходит по ней, и от нее отнимается количество здоровья, равному мощности снаряда пушки;
    \item Если пушка не достает до башни соперника, то происходит поиск самой ближайшей вражеской пушки. Если несколько вражеских пушек находится на одинаковом минимальном расстоянии, то выбирается та, которая расположена раньше по часовой стрелке, считая началом клетку над клеткой пушки (т.е. $(x, y - r)$, где $r$~---~упомянутый выше минимальный радиус). Выстрел отнимает от вражеской пушки количество здоровья, равному мощности снаряда пушки;
    \item Если в радиусе досягаемости нет ни одной вражеской пушки, то пушка ничего не делает.
\end{itemize} 

У каждого игрока есть свой счет, который пополняется за действия игроков. Ниже в таблице перечислены действия и количество очков:
\begin{table}[h]
    \centering
    \begin{tabular}{|c|c|}
        \hline
        \emph{Действие} & \emph{Количество очков} \\
        \hline
        Подбор золотой монеты & 1 \\
        \hline
        Построение пушки первого типа & 2 \\
        \hline
        Построение пушки второго типа & 4 \\
        \hline
        Построение пушки третьего типа & 7 \\
        \hline
    \end{tabular}
\end{table}

Если после фазы стрельбы жизни одной из башен оказались $\leq 0$, то башня является разрушенной и побеждает тот игрок, кто разрушил вражескую башню. В том случае, если игроки одновременно разрушили башни, то выигрывает тот, у кого больше очков за действия. Если после 2222 ходов башни игроков не были разрушены, то победителем назначается тот, у кого наибольший счет за действия, в случае, если эти счета одинаковы, то объявляется ничья. 

\subsection*{Формат входных данных}
На первой строке подается номер игрока~---~1 или 2.
На следующих 20 строках будет представлено игровое поле. Каждая строка содержит в себе 20 чисел. Завершаться передача данных будет пустой строкой.

Расшифровка значений на поле для $a_{ij}$:
\begin{itemize}
    \item $1 \leq a_{ij} \leq 100$~---~здоровье башни. Башни всегда находятся в точках $(2, 2)$ и $(17, 17)$;
    \item $201 \leq a_{ij} \leq 209$, то $(a_{ij} - 200)$~---~единицы жизни пушки первого типа первого игрока;
    \item $301 \leq a_{ij} \leq 312$, то $(a_{ij} - 300)$~---~единицы жизни пушки второго типа первого игрока;
    \item $401 \leq a_{ij} \leq 405$, то $(a_{ij} - 400)$~---~единицы жизни пушки третьего типа первого игрока;
    \item $a_{ij} = 500$~---~местонахождение первого игрока;
    \item $601 \leq a_{ij} \leq 609$, то $(a_{ij} - 600)$~---~единицы жизни пушки первого типа второго игрока;
    \item $701 \leq a_{ij} \leq 712$, то $(a_{ij} - 700)$~---~единицы жизни пушки второго типа второго игрока;
    \item $801 \leq a_{ij} \leq 805$, то $(a_{ij} - 800)$~---~единицы жизни пушки третьего типа второго игрока;
    \item $a_{ij} = 900$~---~местонахождение второго игрока;
    \item $a_{ij} = 1000$~---~в клетке находится золотая монета;
    \item $a_{ij} = 0$~---~клетка свободна.
\end{itemize} 

\subsection*{Формат выходных данных}
На каждом ходу игроку требуется вывести одну из команд:
\begin{itemize}
    \item \texttt{S}~---~остаться стоять на месте и ничего не делать;
    \item \texttt{M W}~---~переместиться в свободную смежную клетку. \texttt{W}~---~ одно из четырех направлений для перемещения: \texttt{U}~---~вверх, \texttt{L}~---~влево, \texttt{R}~---~вправо, \texttt{D}~---~вниз.
    \item \texttt{B X Y T}~---~построить пушку вида \texttt{T} $(1 \leq T \leq 3)$, указав координаты соседней свободной клетки для строительства. Где $(X, Y)$ может быть одним из восьми значений: $(X - 1, Y - 1), (X, Y - 1), (X + 1, Y - 1), (X - 1, Y), \\ (X + 1, Y), (X - 1, Y + 1), (X, Y + 1), (X + 1, Y + 1)$.
\end{itemize}

Если игрок выведет некорректную команду, либо попытается сделать ход в занятую клетку, либо попытается построить пушку в занятой клетке, либо попытается построить пушку, не имея достаточно средств, то его ход будет проигнорирован, и игрок будет стоять на месте. 